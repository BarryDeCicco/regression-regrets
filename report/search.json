[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Regression without regrets",
    "section": "",
    "text": "Preface\nThe focus of this report is to provide guidance on conducting initial data analysis in a reproducible manner in the context of intended regression analyses."
  },
  {
    "objectID": "Bact_intro.html#bacteremia-study-overview",
    "href": "Bact_intro.html#bacteremia-study-overview",
    "title": "1  Bacteremia study",
    "section": "1.1 Bacteremia study overview",
    "text": "1.1 Bacteremia study overview\nWe will exemplify our proposed systematic approach to data screening by means of a diagnostic study with the primary aim of using age, sex and 49 laboratory variables to fit a diagnostic prediction model for the bacteremia status (= presence of bacteria in the blood stream) of a blood sample. A secondary aim of the study is to describe the functional form of each predictor in the model. Between January 2006 and December 2010, patients with the clinical suspicion to suffer from bacteremia were included if blood culture analysis was requested by the responsible physician and blood was sampled for assessment of hematology and biochemistry. An analysis of this study can be found in Ratzinger et al. (2014).\nThe data consists of 14,691 observations from different patients and 51 potential predictors. To protect data privacy our version of this data was slightly modified compared to the original, and this modified version was cleared by the Medical University of Vienna for public use (DC 2019-0054). Compared to the official results given in (Ratzinger et al. 2014), our results may differ to a negligible degree."
  },
  {
    "objectID": "Bact_intro.html#where-to-access-the-data",
    "href": "Bact_intro.html#where-to-access-the-data",
    "title": "1  Bacteremia study",
    "section": "1.2 Where to access the data?",
    "text": "1.2 Where to access the data?\nWe refer to the source data as the raw data set available in this repository (DC 2019-0054). The data set is published on Zenodo with the following doi: https://doi.org/10.5281/zenodo.7554815.\nFor simplicity, we have also stored the source data and accompanying materials such as the data dictionary the data-raw directory.\n\n1.2.1 Data dictionary\nThe data dictionary provides an overview of the collected source data - see Appendix A.1 for further details.\n\n\n1.2.2 Source data\nWe also display a short snapshot of source data set from the data-raw folder of the project directory. The snapshot provides a glimpse of the data, giving the data dictionary more context.\n\n\n\nWe do not display all observations measured as it is too wide and long to fit reasonably in to the report. However, we refer you to the Zenodo page for an interactive overview of the source data.\n\n\nRows: 14,691\nColumns: 53\n$ ID           <dbl> 1, 3, 5, 7, 9, 10, 11, 12, 13, 19, 21, 22, 23, 25, 26, 27~\n$ SEX          <dbl> 2, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2, 1, 2, 2, 2, ~\n$ AGE          <dbl> 62, 72, 46, 84, 38, 68, 55, 55, 67, 52, 47, 29, 59, 51, 4~\n$ MCV          <dbl> 99.3, 85.1, 96.3, 91.3, 85.1, 104.5, 99.3, 77.0, 95.3, 83~\n$ HGB          <dbl> 11.5, 10.3, 7.4, 10.3, 13.7, 15.7, 14.6, 10.8, 10.9, 10.3~\n$ HCT          <dbl> 35.9, 34.7, 22.8, 31.1, 38.7, 46.9, 43.5, 34.8, 30.4, 30.~\n$ PLT          <dbl> 307, 182, 64, 309, 183, 144, 242, 38, 88, 105, 216, 188, ~\n$ MCH          <dbl> 31.5, 26.0, 31.2, 30.4, 30.2, 34.8, 33.1, 23.8, 33.6, 28.~\n$ MCHC         <dbl> 31.8, 30.6, 32.4, 33.3, 35.3, 33.5, 33.4, 30.5, 35.3, 34.~\n$ RDW          <dbl> 19.5, 15.0, 19.7, 13.8, 12.6, 13.9, 13.1, 16.8, 13.3, 13.~\n$ MPV          <dbl> 10.8, 9.7, 11.1, 8.5, 10.0, 10.9, 10.3, NA, 10.7, 11.3, 1~\n$ LYM          <dbl> 0.4, 0.4, 1.5, 1.3, 0.8, 2.2, 2.1, 0.4, 0.4, 0.9, 0.7, 1.~\n$ MONO         <dbl> 1.7, 0.2, 1.2, 0.8, 0.4, 0.9, 1.6, 0.1, 0.2, 0.9, 0.6, 0.~\n$ EOS          <dbl> 0.0, 0.1, 0.1, 0.0, 0.0, 0.1, 0.3, 0.1, 0.0, 0.3, 0.0, 0.~\n$ BASO         <dbl> 0.1, 0.0, 0.1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.1, 0.1, 0.~\n$ NT           <dbl> 86, 90, 58, 67, 95, 61, NA, 93, 57, 69, 108, 86, 93, 83, ~\n$ APTT         <dbl> 28.8, 29.8, 36.3, 38.2, 33.1, 41.8, NA, 36.3, 33.8, 28.1,~\n$ FIB          <dbl> 578, NA, 313, 487, 490, 400, NA, 413, 431, 407, 604, 476,~\n$ SODIUM       <dbl> 137, 141, 147, 141, 137, 141, 139, 142, 143, 136, 131, 13~\n$ POTASS       <dbl> 3.88, NA, 4.61, 4.71, NA, 4.41, 3.69, 4.67, 2.35, 3.80, 5~\n$ CA           <dbl> 2.29, 2.21, 1.92, 2.05, 2.34, 2.08, NA, 2.31, 2.10, 1.92,~\n$ PHOS         <dbl> 1.20, 0.58, 1.51, 2.17, 0.97, 0.99, NA, 1.16, 0.51, 0.72,~\n$ MG           <dbl> 0.66, NA, 1.03, 0.83, 0.74, 0.56, NA, 0.87, 0.36, 0.53, 0~\n$ CREA         <dbl> 0.65, 0.76, 1.25, 2.78, 0.65, 0.82, 1.21, 1.77, 1.00, 0.5~\n$ BUN          <dbl> 5.7, 19.9, 50.6, 47.5, 8.5, 15.3, 13.0, 29.8, 15.0, 14.0,~\n$ HS           <dbl> 5.3, NA, NA, 9.7, 3.0, 5.5, NA, 6.2, 4.7, 4.0, 4.0, 4.1, ~\n$ GBIL         <dbl> 0.59, 0.48, 8.42, 0.35, 0.42, 2.40, 1.13, 0.45, 1.21, 2.4~\n$ TP           <dbl> 67.0, 65.3, 40.5, 61.2, 78.4, 57.5, NA, 70.8, 67.4, 53.8,~\n$ ALB          <dbl> 36.7, 37.4, 22.1, 33.2, 43.8, 30.1, NA, 43.6, 35.4, 24.8,~\n$ AMY          <dbl> 30, NA, 146, 92, 84, 95, 117, 177, NA, 35, 79, 16, 25, 32~\n$ PAMY         <dbl> 16, NA, NA, 28, 50, 57, NA, 43, NA, 35, 63, 14, 15, 20, 3~\n$ LIP          <dbl> 10, NA, 89, 18, 50, 25, 73, 30, NA, 38, 52, 19, 14, 26, 5~\n$ CHE          <dbl> 5.12, 5.61, 2.52, 4.10, 6.91, 6.79, NA, 7.40, NA, 2.64, 2~\n$ AP           <dbl> 85, 80, 119, 94, 108, 68, 51, 153, 239, 146, 180, 64, 74,~\n$ ASAT         <dbl> 22, 28, 124, 774, 35, 32, 29, 26, 91, 97, 24, 13, 25, 31,~\n$ ALAT         <dbl> 14, 25, 135, 72, 22, 11, 20, 32, 57, 156, 63, 23, 27, 53,~\n$ GGT          <dbl> 48, 61, 134, 23, 72, 68, 138, 96, 446, 192, 266, 19, 66, ~\n$ LDH          <dbl> 284, NA, 696, 1787, NA, 263, 303, 181, 183, 277, 221, 299~\n$ CK           <dbl> 23, 36, 40, 2422, 79, 75, 230, 87, 53, 87, 30, 118, 17, 1~\n$ GLU          <dbl> 107, 84, 107, 105, 93, 89, 91, 96, 86, 104, 104, 102, 161~\n$ TRIG         <dbl> 105, NA, NA, 134, 152, 85, NA, 129, 62, 207, 292, 221, 12~\n$ CHOL         <dbl> 175, NA, NA, 141, 167, 144, NA, 156, 118, 123, 194, 151, ~\n$ CRP          <dbl> 3.94, 1.42, 12.09, 3.78, 11.17, 5.89, 17.84, 1.29, 1.36, ~\n$ BASOR        <dbl> 0.4132231, 0.0000000, 0.5681818, 0.0000000, 0.0000000, 0.~\n$ EOSR         <dbl> 0.0000000, 0.8264463, 0.5681818, 0.0000000, 0.0000000, 1.~\n$ LYMR         <dbl> 1.652893, 3.305785, 8.522727, 11.016949, 8.333333, 22.000~\n$ MONOR        <dbl> 7.024793, 1.652893, 6.818182, 6.779661, 4.166667, 9.00000~\n$ NEU          <dbl> 22.0, 11.4, 14.7, 9.7, 8.4, 6.8, 8.9, 1.2, NA, 3.8, 8.2, ~\n$ NEUR         <dbl> 90.90909, 94.21488, 83.52273, 82.20339, 87.50000, 68.0000~\n$ PDW          <dbl> 10.6, 11.4, 14.1, 8.7, 12.2, 12.9, 12.5, NA, NA, 13.2, 12~\n$ RBC          <dbl> 3.7, 3.9, 2.5, 3.5, 4.4, 4.3, 4.5, 4.7, NA, 3.5, 3.3, 2.5~\n$ WBC          <dbl> 24.10, 12.17, 17.45, 11.58, 9.86, 9.94, 13.06, 1.78, NA, ~\n$ BloodCulture <chr> \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"no\", \"yes\", \"n~\n\n\n\n\n\n\n\n\nRatzinger, Franz, Michel Dedeyan, Matthias Rammerstorfer, Thomas Perkmann, Heinz Burgmann, Athanasios Makristathis, Georg Dorffner, Felix Lötsch, Alexander Blacky, and Michael Ramharter. 2014. “A Risk Prediction Model for Screening Bacteremic Patients: A Cross Sectional Study.” PLOS ONE 9 (9): 1–10. https://doi.org/10.1371/journal.pone.0106765."
  },
  {
    "objectID": "Bact_IDA_plan.html#prerequisites-for-the-ida-plan",
    "href": "Bact_IDA_plan.html#prerequisites-for-the-ida-plan",
    "title": "2  IDA plan",
    "section": "2.1 Prerequisites for the IDA plan",
    "text": "2.1 Prerequisites for the IDA plan\n\n2.1.1 Analysis strategy\nWe assume that the aims of the study are to fit a diagnostic prediction model and to describe the functional form of each predictor. These aims are addressed by fitting a logistic regression model with bacteremia status as the dependent variable.\nBased on domain expertise, the predictors are grouped by their assumed importance to predict bacteremia. Variables with known strong associations with bacteremia are age (AGE), leukocytes (WBC), blood urea neutrogen (BUN), creatinine (CREA), thrombocytes (PLT), and neutrophiles (NEU) and these predictors will be included in the model as key predictors. Predictors of medium importance are potassium (POTASS), and some acute-phase related parameters such as fibrinogen (FIB), C-reactive protein (CRP), aspartate transaminase (ASAT), alanine transaminase (ALAT), and gamma-glutamyl transpeptidase (GGT). All other predictors are of minor importance.\nContinuous predictors should be modelled by allowing for flexible functional forms, where for all key predictors four degrees of freedom will be spent, and for predictors of medium and minor importance, three or two degrees of freedom should be foreseen at maximum, respectively. The decision on whether to use only key predictors, or to consider predictors also from the predictor sets of medium or minor importance depends on results of data screening, but will be made before uncovering the association of predictors with the outcome variable.\nAn adequate strategy to cope with missing values will also be chosen after screening the data. Candidate strategies are omission of predictors with abundant missing values, complete case analysis, single value imputation or multiple imputation with chained equations.\n\n\n2.1.2 Data dictionary\nThe data dictionary of the bacteremia data set consists of columns for variable names, variable labels, scale of measurement (continuous or categorical), units, plausibility limits, and remarks:\n\n\n\n\n\n\n\n\n\n  \n  \n    \n      variable\n      label\n      scale_of_measurement\n      units\n      remark\n      from_paper\n    \n  \n  \n    ID\nPatient Identification\nnominal\n1-14691\nNA\nNA\n    SEX\nPatient sex\nnominal\n1=male, 2=female\nNA\nFemale: Male\n    AGE\nPatient Age\ncontinuous\nyears\nAlter=German age\nAlbumin (G/L) 14,187 33.7 (28?39.3) 32 (26.925?36.7) ,0.0001 0.568\n    MCV\nMean corpuscular volume\ncontinuous\npg\nNA\nMCV (pg) 15,941 88.1 (84.6?91.9) 88.6 (84.8?92.5) 0.0044 0.524\n    HGB\nHaemoglobin\ncontinuous\nG/L\nNA\nHaemoglobin(G/L) 15,942 11.4 (9.9?13.2) 11.1 (9.5?12.6) ,0.0001 0.554\n    HCT\nHaematocrit\ncontinuous\n%\nNA\nHaematocrit (%) 15,941 34.4 (29.8?39.2) 33.1 (28.5?37.5) ,0.0001 0.561\n    PLT\nBlood platelets\ncontinuous\nG/L\nNA\nPLT (G/L) 15,940 206 (142?279.25) 180.5 (115?248) ,0.0001 0.575\n    MCH\nMean corpuscular hemoglobin\ncontinuous\nfl\nNA\nMCH (fl) 15,941 29.7 (28.3?30.9) 29.8 (28.5?31.2) 0.0019 0.526\n    MCHC\nMean corpuscular hemoglobin concentration\ncontinuous\ng/dl\nNA\nMCHC (g/dl) 15,941 33.5 (32.6?34.4) 33.6 (32.7?34.5) n.s.\n    RDW\nRed blood cell distribution width\ncontinuous\n%\nNA\nRDW (%) 15,924 14.4 (13.3?15.925) 14.9 (13.7?16.6) ,0.0001 0.572\n    MPV\nMean platelet volume\ncontinuous\nfl\nNA\nMPV (fl) 15,214 10.3 (9.7?11) 10.4 (9.7?11.1) n.s.\n    LYM\nLymphocytes\ncontinuous\nG/L\nNA\nLymphocytes (G/L) 15,695 1.1 (0.7?1.6) 0.7 (0.4?1.1) ,0.0001 0.683\n    MONO\nMonocytes\ncontinuous\nG/L\nNA\nMonocytes (G/L) 15,710 0.8 (0.5?1.1) 0.6 (0.3?1) ,0.0001 0.598\n    EOS\nEosinophils\ncontinuous\nG/L\nNA\nEosinophils (G/L) 15,373 0.6 (0.1?1.8) 0.2 (0?0.8) ,0.0001 0.641\n    BASO\nBasophiles\ncontinuous\nG/L\nNA\nBasophiles % 15,375 0.2 (0.1?0.3) 0.1 (0.1?0.2) ,0.0001 0.606\n    NT\nNormotest\ncontinuous\n%\nMeasures thromboplastin time\nNormotest (%) 13,339 84 (67?101) 78 (60?94) ,0.0001 0.571\n    APTT\nActivated partial thromboplastin time\ncontinuous\nsec\nNA\naPTT (sec) 13,251 37.8 (34.2?42.8) 37.8 (34.2?43) n.s.\n    FIB\nFibrinogen\ncontinuous\nmg/dl\nNA\nFibrinogen (mg/dl) 13,211 526 (393?667) 546 (424?701) 0.0001 0.538\n    SODIUM\nSodium\ncontinuous\nmmol/L\nNatrium=German sodium\nSodium (mmol/L) 14,542 138 (135?140) 136 (133?139) ,0.0001 0.602\n    POTASS\nPotassium\ncontinuous\nmmol/L\nNA\nPotassium (mmol/L) 13,774 3.95 (3.67?4.3) 3.97 (3.595?4.365) n.s.\n    CA\nCalcium\ncontinuous\nmmol/L\nNA\nCalcium (mmol/L) 14,592 2.23 (2.09?2.35) 2.21 (2.08?2.33) 0.0001 0.533\n    PHOS\nPhosphate\ncontinuous\nmmol/L\nNA\nPhosphate(mmol/L) 14,664 1 (0.81?1.2) 0.95 (0.76?1.19) ,0.0001 0.537\n    MG\nMagnesium\ncontinuous\nmmol/L\nNA\nMG (mmol/L) 13,989 0.81 (0.73?0.89) 0.77 (0.68?0.86) ,0.0001 0.582\n    CREA\nCreatinine\ncontinuous\nmg/dl\nNA\nCreatinine (mg/dl) 15,813 0.99 (0.81?1.31) 1.2 (0.89?1.87) ,0.0001 0.611\n    BUN\nBlood urea nitrogen\ncontinuous\nmg/dl\nNA\nBUN (mg/dl) 15,800 16.2 (11.4?25.8) 22.5 (14.7?37.78) ,0.0001 0.633\n    HS\nUric acid\ncontinuous\nmg/dl\nHarns?ure=German Uric acid\nUric acid (mg/dl) 12,709 5 (3.7?6.5) 5.5 (3.9?7.6) ,0.0001 0.562\n    GBIL\nBilirubin\ncontinuous\nmg/dl\nNA\nBilirubin (mg/dl) 14,431 0.75 (0.52?1.19) 1.02 (0.66?1.73) ,0.0001 0.621\n    TP\nTotal protein\ncontinuous\nG/L\nNA\nTP (G/L) 14,301 65.8 (56.8?73.4) 64.7 (56.4?71.5) 0.0019 0.528\n    ALB\nAlbumin\ncontinuous\nG/L\nNA\nALAT (U/L) 14,919 26 (16?47) 30 (18?60) ,0.0001 0.55\n    AMY\nAmylase\ncontinuous\nU/L\nNA\nAmylase (U/L) 11,783 50 (34?77) 44 (28?70) ,0.0001 0.565\n    PAMY\nPancreas amylase\ncontinuous\nU/L\nNA\nPAMY (U/L)\n    LIP\nLipases\ncontinuous\nU/L\nNA\nLipases (U/L) 11,988 23 (13?40) 22 (12?38) n.s.\n    CHE\nCholinesterase\ncontinuous\nkU/L\nNA\nCHE (kU/L) 13,353 4.66 (3.2?6.29) 3.94 (2.66?5.48) ,0.0001 0.591\n    AP\nAlkaline phosphatase\ncontinuous\nU/L\nNA\nALP (U/L) 14,479 83 (62?120) 100 (72?164) ,0.0001 0.601\n    ASAT\nAspartate transaminase\ncontinuous\nU/L\nNA\nASAT (U/L) 14,745 31 (22?56) 37 (24?70.25) ,0.0001 0.558\n    ALAT\nAlanin transaminase\ncontinuous\nU/L\nNA\nAge 15,985 58 (42?69) 65 (53?74) ,0.0001 0.611\n    GGT\nGamma-glutamyl transpeptidase\ncontinuous\nG/L\nNA\nGGT (G/L) 14,629 48 (25?112) 73 (35?180) ,0.0001 0.599\n    LDH\nLactate dehydrogenase\ncontinuous\nU/L\nNA\nLDH (U/L) 14,150 239 (186?334) 249 (199?331.5) 0.0037 0.527\n    CK\nCreatinine kinases\ncontinuous\nU/L\nNA\nCK (U/L) 13,763 82 (42?190) 67 (34?142) ,0.0001 0.557\n    GLU\nGlucoses\ncontinuous\nmg/dl\nNA\nGlucoses (mg/dl) 11,350 113 (96?137) 121 (99?154) ,0.0001 0.559\n    TRIG\nTriclyceride\ncontinuous\nmg/dl\nNA\nTriglyceride (mg/dl) 10,549 115 (83?164) 118 (85?170) n.s.\n    CHOL\nCholesterol\ncontinuous\nmg/dl\nNA\nCholesterol (mg/dl) 10,565 146 (114?183) 132 (105?171) ,0.0001 0.564\n    CRP\nC-reactive protein\ncontinuous\nmg/dl\nNA\nCRP (mg/dl) 15,820 8.39 (2.77?16.15) 11.68 (5.22?21.19) ,0.0001 0.596\n    BASOR\nBasophile ratio\ncontinuous\n%\nNA\nBasophiles (G/L) 15,827 0 (0?0) 0 (0?0) ,0.0001 0.47\n    EOSR\nEosinophil ratio\ncontinuous\n%\nNA\nEosinophil % 15,831 0.1 (0?0.2) 0 (0?0.1) ,0.0001 0.626\n    LYMR\nLymphocyte ratio\ncontinuous\n% (mg/dl)\nNA\nLymphocytes % (mg/dl) 15,250 11.6 (7.1?18.6) 7 (4.15?12.2) ,0.0001 0.674\n    MONOR\nMonocyte ratio\ncontinuous\n%\nNA\nMonocytes % 15,268 8.1 (5.8?10.7) 6.1 (3.5?8.8) ,0.0001 0.645\n    NEU\nNeutrophiles\ncontinuous\nG/L\nNA\nNeutrophiles (G/L) 15,181 7.3 (4.6?10.7) 8.4 (5.23?12.7) ,0.0001 0.559\n    NEUR\nNeutrophile ratio\ncontinuous\n%\nNA\nNeutrophiles % 15,181 77.7 (68.7?84.6) 85.8 (78.3?90.5) ,0.0001 0.696\n    PDW\nPlatelet distribution width\ncontinuous\n%\nNA\nPDW (%) 14,776 12 (10.8?13.4) 12.1 (10.8?13.7) n.s.\n    RBC\nRed blood count\ncontinuous\nT/L\nNA\nRBC (T/L) 15,478 3.9 (3.4?4.5) 3.7 (3.2?4.2) ,0.0001 0.567\n    WBC\nWhite blood count\ncontinuous\nG/L\nNA\nWBC (G/L) 15,477 9.58 (6.64?13.46) 10.205 (6.61?14.86) n.s.\n    BloodCulture\nBlood culture result for bacteremia\nnominal\nno, yes\nNA\nNA\n  \n  \n  \n\n\n\n\n\n\n2.1.3 Domain expertise\nThe demographic variables age and sex are are chosen as the structural variables in this analysis for illustration purposes, since they are commonly considered important for describing a cohort in health studies. Key predictors and predictors of medium importance are as defined above. Laboratory analyses always bear the risk of machine failures, and hence missing values are a frequent challenge. This may differ between laboratory variables, but no a priori estimate about the expected proportion of missing values can be assumed. As most predictors measure concentrations of chemical compounds or cell counts, skewed distributions are expected. Some predictors describe related types of cells or chemical compounds, and hence some correlation between them is to be expected. For example, leukocytes consist of five different types of blood cells (BASO, EOS, NEU, LYM and MONO), and the sum of the concentration of these types approximately (but not exactly) gives the leukocyte count, which is recorded in the variable WBC. Moreover, these variables are given as absolute counts and as percentages of the sum of the five variables, which creates some correlation. Some laboratory variables differ by sex and age, but the special selection of patients for this study (suspicion of bacteremia) may distort or alter the expected correlations with sex and age.\nFor the purpose of stratifying IDA results by age, age will be categorized into the following three groups: [16, 50], (50, 65], (65, 101].\nThe predictor grouping is defined here:"
  },
  {
    "objectID": "Bact_IDA_plan.html#ida-plan",
    "href": "Bact_IDA_plan.html#ida-plan",
    "title": "2  IDA plan",
    "section": "2.2 IDA plan",
    "text": "2.2 IDA plan\n\n2.2.1 M1: Prevalence of missing values\nNumbers and proportions of missing values will be reported for each predictor separately (M1). Type of missingness has not been recorded.\n\n\n2.2.2 M2: Complete cases\nThe number of available complete cases (outcome and predictors) will be reported when considering:\n\nthe outcome variable (BC)\noutcome and structural variables (BC, AGE, SEX)\noutcome and key predictors only (BC, AGE, WBC, BUN, CREA, PLT, NEU)\noutcome, key predictors and predictors of medium importance (BC, AGE, WBC, BUN, CREA, PLT, NEU, POTASS, FIB, CRP, ASAT, ALAT, GGT)\noutcome and all predictors.\n\n\n\n2.2.3 M3: Patterns of missing values\nPatterns of missing values will be investigated by:\n\ncomputing a table of complete cases (for the three predictor sets described above) for strata defined by the structural variables age and sex,\nconstructing a dendrogram of missing values to explore which predictors tend to be missing together.\n\n\n\n2.2.4 U1: Univariate descriptions: categorical variables\nFor sex and bacteremia status, the frequency and proportion of each category will be described numerically.\n\n\n2.2.5 U2: Univariate descriptions: continuous variables\nFor all continuous predictors, combo plots consisting of high-resolution histograms, boxplots and dotplots will be created. Because of the expected skew distribution, combo plots will also be created for log-transformed predictors.\nAs numerical summaries, minimum and maximum values, main quantiles (5th, 10th, 25th, 50th, 75th, 90th, 95th), and the first four moments (mean, standard deviation, skewness, curtosis) will be reported. The number of distinct values and the five most frequent values will be given, as well as the concentration ratio (ratio of frequency of most frequent value and mean frequency of each unique value).\nGraphical and parametric multivariate analyses of the predictor space such as cluster analyses or the computation of variance inflation factors are heavily influenced by the distribution of the predictors. In order to make this set of analyses more robust to highly influential points or areas of the predictor support, some predictors may need transformation (e.g. logarithmic). We will compute the correlation of the untransformed and log-transformed predictors with normal deviates. Since some predictors may have values at or close to 0, we will consider the pseudolog transformation \\(f(x;\\sigma) = sinh^{-1}(x/2\\sigma)/\\log10\\) (Johnson, 1949) which provides a smooth transition from linear (close to 0) to logarithmic (further away from 0). The transformation has a parameter \\(\\sigma\\) which we will optimize separately for each predictor in order to achieve an optimal approximation to a normal distribution monitored via the correlation of normal deviates with the transformed predictor. For those predictors for which the pseudolog-transformation increases correlation with normal deviates by at least 0.2 units of the correlation coefficient, the pseudolog-transformed predictor will be used in multivariate IDA instead of the respective original predictor. For those predictors, histograms and boxplots will be provided on both the original and the transformed scale.\n\n\n2.2.6 V1: Multivariate descriptions: associations of predictors with structural variables\nA scatterplot of each predictor with age, with different panels for males and females will be constructed. Associated Spearman correlation coefficients will be computed.\n\n\n2.2.7 V2: Multivariate descriptions: correlation analyses\nA matrix of Spearman correlation coefficients between all pairs of predictors will be computed and described numerically as well as by means of a heatmap.\n\n\n2.2.8 VE1: Multivariate descriptions: comparing nonparametric and parametric predictor correlation\nA matrix of Pearson correlation coefficients will be computed. Predictor pairs for which Spearman and Pearson correlation coefficients differ by more than 0.1 correlation units will be depicted in scatterplots.\n\n\n2.2.9 VE2: Variable clustering\nA variable clustering analysis will be performed to evaluate which predictors are closely associated. A dendrogram groups predictors by their correlation. Scatterplots of pairs of predictors with Spearman correlation coefficients greater than 0.8 will be created.\n\n\n2.2.10 VE3: Redundancy\nVariance inflation factors will be computed between the candidate predictors. This will be done for the three possible candidate models, and using all complete cases in the respective candidate predictor sets. Redundancy will further be explored by computing parametric additive models for each predictor in the three candidate models."
  },
  {
    "objectID": "Bact_analysis_data.html#analysis-ready-dataset",
    "href": "Bact_analysis_data.html#analysis-ready-dataset",
    "title": "3  Analysis ready data",
    "section": "3.1 Analysis ready dataset",
    "text": "3.1 Analysis ready dataset\nThe aim of this section and the remaining chapters of the report are to document the steps taken towards transforming the source data set to an analysis ready data set.\nIn this section, additional meta-data is added to the source data set.\nWe write this new modified (annotated) data set back to the data folder after adding additional meta-data for all variables. The meta-data is taken from the data dictionary. The aim is to produce an analysis ready data set for the research objective.\nAt the stage we could select the variables of interest to take in to the IDA phase by dropping variables we do not check in IDA."
  },
  {
    "objectID": "Bact_analysis_data.html#steps",
    "href": "Bact_analysis_data.html#steps",
    "title": "3  Analysis ready data",
    "section": "3.2 Steps",
    "text": "3.2 Steps\nRead in the source data dictionary\n\n\n\nRead in the source data.\n\n\n\nTransform source data to a long format for the lab specific measurements. A long format enables efficient data processing.\n\n\n\nAdd the parameter information such as labels and units on to the transformed data directly from the data dictionary.\nDerive additional variables and metadata are per the analysis plan such as:\n\nUnits\nVariable type\nCategories for sex\nrename outcome\n\n\n\n\nSelect and re-order the variables as per the data set specification.\n\n\n\nAdd variable metadata as label attributes\n\n\n\nCheck we have not introduced any errors with the outcome variable.\n\n\nDisplay marginal distribution from source data variable\n\n\n\n\n\n\n  \n  \n    \n      BloodCulture\n      n\n    \n  \n  \n    no\n675550\n    yes\n59000\n  \n  \n  \n\n\n\n\nDisplay marginal distribution from transformed data variable\n\n\n\n\n\n\n  \n  \n    \n      BACTEREMIA\n      n\n    \n  \n  \n    no\n675550\n    yes\n59000\n  \n  \n  \n\n\n\n\nSet flags for predictors as per the IDA plan (see Section 2.1.1 Analysis strategy).\n\nage (AGE), leukocytes (WBC), blood urea neutrogen (BUN), creatinine (CREA), thrombocytes (PLT), and neutrophiles (NEU) and these predictors will be included in the model as key predictors\nPredictors of medium importance are potassium (POTASS), and some acute-phase related parameters such as fibrinogen (FIB), C-reactive protein (CRP), aspartate transaminase (ASAT), alanine transaminase (ALAT), and gamma-glutamyl transpeptidase (GGT).\n\n\n\n\nAdd metadata flags to indicate relationship between blood cell parameters. See section 2.1.3 of the IDA plan\n\n\n\nDerive age groups.\nFor the purpose of stratifying IDA results by age, age will be categorized into the following three groups:\n\n[16, 50],\n(50, 65],\n(65, 101].\n\n\n\n\nSave the analysis data sets in to two linked data sets following a structure similar to the CDISC ADaM data standard. Individual patient measurements are stored in a data set called ADSL. The lab specific data sets are stored in ADLB (a long format data set).\nADSL:\n\n\n\nADLB: Note AGE is also in ADLB as a key predictor\n\n\n\nNote: At this stage of IDA, both ADSL and ADLB are intermediate files that will be used for further IDA. Findings in IDA may require updates to either data set."
  },
  {
    "objectID": "Bact_missing.html#m1-prevalence-of-missing-values",
    "href": "Bact_missing.html#m1-prevalence-of-missing-values",
    "title": "4  Results of IDA: Missing values",
    "section": "4.1 M1: Prevalence of missing values",
    "text": "4.1 M1: Prevalence of missing values\nNumber and percentage of missingness for each predictor, sorted by descending missingness proportion.\n\n4.1.1 Outcome and Structural variables\n\n\n\n\n\n\n  \n  \n    \n      Variable\n      Missing (count)\n      Missing (%)\n    \n  \n  \n    BACTEREMIA\n0\n0.00\n    AGE\n0\n0.00\n    SEX\n0\n0.00\n  \n  \n  \n\n\n\n\n\n\n4.1.2 Lab parameters\n\n\n\n\n\n\n  \n  \n    \n      Variable\n      Missing (count)\n      Missing (%)\n    \n  \n  \n    Pancreas amylase (U/L)\n7114\n48.42\n    Triclyceride (mg/dl)\n5061\n34.45\n    Cholesterol (mg/dl)\n5045\n34.34\n    Glucoses (mg/dl)\n4192\n28.53\n    Amylase (U/L)\n3913\n26.64\n    Lipases (U/L)\n3699\n25.18\n    Uric acid (mg/dl)\n3061\n20.84\n    Fibrinogen (mg/dl)\n2567\n17.47\n    Activated partial thromboplastin time (sec)\n2549\n17.35\n    Normotest (%)\n2467\n16.79\n    Cholinesterase (kU/L)\n2447\n16.66\n    Creatinine kinases (U/L)\n2080\n14.16\n    Potassium (mmol/L)\n2008\n13.67\n    Magnesium (mmol/L)\n1869\n12.72\n    Lactate dehydrogenase (U/L)\n1714\n11.67\n    Albumin (G/L)\n1676\n11.41\n    Total protein (G/L)\n1583\n10.78\n    Bilirubin (mg/dl)\n1441\n9.81\n    Alkaline phosphatase (U/L)\n1400\n9.53\n    Sodium (mmol/L)\n1282\n8.73\n    Calcium (mmol/L)\n1276\n8.69\n    Gamma-glutamyl transpeptidase (G/L)\n1262\n8.59\n    Phosphate (mmol/L)\n1242\n8.45\n    Aspartate transaminase (U/L)\n1154\n7.86\n    Platelet distribution width (%)\n1102\n7.50\n    Alanin transaminase (U/L)\n987\n6.72\n    Basophile ratio (%)\n732\n4.98\n    Eosinophil ratio (%)\n732\n4.98\n    Lymphocyte ratio (% (mg/dl))\n732\n4.98\n    Monocyte ratio (%)\n732\n4.98\n    Neutrophile ratio (%)\n732\n4.98\n    Neutrophiles (G/L)\n728\n4.96\n    Mean platelet volume (fl)\n702\n4.78\n    White blood count (G/L)\n462\n3.14\n    Red blood count (T/L)\n461\n3.14\n    Lymphocytes (G/L)\n262\n1.78\n    Monocytes (G/L)\n246\n1.67\n    Blood urea nitrogen (mg/dl)\n172\n1.17\n    Creatinine (mg/dl)\n159\n1.08\n    C-reactive protein (mg/dl)\n155\n1.06\n    Basophiles (G/L)\n146\n0.99\n    Eosinophils (G/L)\n135\n0.92\n    Red blood cell distribution width (%)\n56\n0.38\n    Mean corpuscular volume (pg)\n42\n0.29\n    Haematocrit (%)\n42\n0.29\n    Blood platelets (G/L)\n42\n0.29\n    Mean corpuscular hemoglobin (fl)\n42\n0.29\n    Mean corpuscular hemoglobin concentration (g/dl)\n42\n0.29\n    Haemoglobin (G/L)\n41\n0.28\n    Patient Age (years)\n0\n0.00"
  },
  {
    "objectID": "Bact_missing.html#m2-complete-cases",
    "href": "Bact_missing.html#m2-complete-cases",
    "title": "4  Results of IDA: Missing values",
    "section": "4.2 M2: Complete cases",
    "text": "4.2 M2: Complete cases\nNumber of available complete cases (outcome and predictors):\n\n\n\n\n\n\n  \n  \n    \n      Set\n      Complete (count)\n      Complete (%)\n    \n  \n  \n    Outcome\n14691\n100.0\n    Outcome and structural variables\n14691\n100.0\n    Outcome and key predictors only\n13793\n93.9\n    Outcome key predictors and predictors of medium importance\n9389\n63.9\n    Outcome and all predictors\n3979\n27.1"
  },
  {
    "objectID": "Bact_missing.html#me1-patterns-of-missing-values",
    "href": "Bact_missing.html#me1-patterns-of-missing-values",
    "title": "4  Results of IDA: Missing values",
    "section": "4.3 ME1: Patterns of missing values",
    "text": "4.3 ME1: Patterns of missing values\n\n4.3.1 Complete cases by strata defined by structural variables\n\n\n\n\n\n\n  \n  \n    \n      Set\n      Complete (count)\n      Complete (%)\n    \n  \n  \n    \n      female - (50, 65]\n    \n    All predictors\n1468\n93.0\n    Key predictors\n1468\n93.0\n    Medium importance predictors\n1075\n68.1\n    \n      male - (65, 101]\n    \n    All predictors\n2793\n94.3\n    Key predictors\n2793\n94.3\n    Medium importance predictors\n2014\n68.0\n    \n      male - [16, 50]\n    \n    All predictors\n2744\n94.5\n    Key predictors\n2744\n94.5\n    Medium importance predictors\n1993\n68.7\n    \n      female - [16, 50]\n    \n    All predictors\n2309\n93.8\n    Key predictors\n2309\n93.8\n    Medium importance predictors\n1656\n67.3\n    \n      male - (50, 65]\n    \n    All predictors\n2504\n93.7\n    Key predictors\n2504\n93.7\n    Medium importance predictors\n1862\n69.7\n    \n      female - (65, 101]\n    \n    All predictors\n1975\n93.4\n    Key predictors\n1975\n93.4\n    Medium importance predictors\n1389\n65.7\n  \n  \n  \n\n\n\n\n\n\n4.3.2 Dendrogram of missingness indicators\nThe dendrogram depicts the results of a cluster analysis using the complete linkage method based on the percentage of discordant missing indicators. (This percentage was computed via the squared Euclidian distance of missingness indicators between predictors.) The vertical axis shows the distance between two clusters, which is given by the maximum distance between any element of the first and the second clusters. For example, if two clusters are merged at a height of 25 it means that in 25% of the observations the missingness indicators of the most discordant predictors contained in the two clusters are discordant.\nThe numbers in brackets are the percentages of missing observations for each predictor.\n\n\n\n\n\nClustered variables by percentage observations discordantly missing [by variable percentage missing]"
  },
  {
    "objectID": "Bact_univar.html#u1-categorical-variables",
    "href": "Bact_univar.html#u1-categorical-variables",
    "title": "5  Univariate distribution checks",
    "section": "5.1 U1: Categorical variables",
    "text": "5.1 U1: Categorical variables\nAge group, sex and bactermia status are described by frequencies and proportions in each category.\n\n\n\n\n\n\n  \n    \n    \n    \n  \n  \n  \n    \n      Category\n      Count\n      Proportion\n    \n  \n  \n    \n      Age group\n    \n    (50, 65]\n4250\n0.29\n    (65, 101]\n5076\n0.35\n    [16, 50]\n5365\n0.37\n    \n      Sex\n    \n    female\n6155\n0.42\n    male\n8536\n0.58\n    \n      Presence of bactermia\n    \n    no\n13511\n0.92\n    yes\n1180\n0.08\n  \n  \n  \n\n\n\n\nAlso plot the categories."
  },
  {
    "objectID": "Bact_univar.html#continuous-variables",
    "href": "Bact_univar.html#continuous-variables",
    "title": "5  Univariate distribution checks",
    "section": "5.2 Continuous variables",
    "text": "5.2 Continuous variables\n\n5.2.1 U2: Univariate distributions of continuous variables\n\n5.2.1.1 U2: Structural variables\nThe only structural continuous variables is AGE. This variable is also a key predictor (see below).\n\n\n5.2.1.2 U2: Key predictors\nNote: the structural variable Age is also considered a key predictor.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5.2.1.3 U2: Predictors of medium importance\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5.2.1.4 U2: Remaining predictors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n5.2.2 Numerical summaries\n\n5.2.2.1 Key predictors\n\n\n\n  kurtosis        max      max_1      max_2      max_3      max_4      max_5 \n        50         50         50         50         50         50         50 \n      mean     median        min      min_1      min_2      min_3      min_4 \n        50         50         50         50         50         50         50 \n     min_5       mode n_distinct      qt_05      qt_10      qt_25      qt_50 \n        50         50         50         50         50         50         50 \n     qt_75      qt_90      qt_95      range         sd   skewness \n        50         50         50         50         50         50 \n\n\n\n\n\n\n\n\n  \n  \n    \n      PARAM\n      PARAMCD\n      mean\n      min\n      median\n    \n  \n  \n    Activated partial thromboplastin time (sec)\nAPTT\n40.05639928\n21.40\n37.7000000\n    Alanin transaminase (U/L)\nALAT\n67.66221541\n0.00\n26.0000000\n    Albumin (G/L)\nALB\n33.42457933\n10.00\n33.6000000\n    Alkaline phosphatase (U/L)\nAP\n118.77955007\n11.00\n84.0000000\n    Amylase (U/L)\nAMY\n90.83225088\n8.00\n49.0000000\n    Aspartate transaminase (U/L)\nASAT\n86.89525006\n3.00\n31.0000000\n    Basophile ratio (%)\nBASOR\n0.14504559\n0.00\n0.0000000\n    Basophiles (G/L)\nBASO\n0.01724991\n0.00\n0.0000000\n    Bilirubin (mg/dl)\nGBIL\n1.40627774\n0.11\n0.7700000\n    Blood platelets (G/L)\nPLT\n220.02546249\n0.00\n204.0000000\n    Blood urea nitrogen (mg/dl)\nBUN\n22.65653971\n2.50\n16.6000000\n    C-reactive protein (mg/dl)\nCRP\n10.91585237\n0.00\n8.5700000\n    Calcium (mmol/L)\nCA\n2.21379650\n1.03\n2.2200000\n    Cholesterol (mg/dl)\nCHOL\n150.79991706\n25.00\n145.0000000\n    Cholinesterase (kU/L)\nCHE\n4.79039611\n0.98\n4.6000000\n    Creatinine (mg/dl)\nCREA\n1.32930498\n0.26\n1.0000000\n    Creatinine kinases (U/L)\nCK\n385.01435255\n8.00\n80.0000000\n    Eosinophil ratio (%)\nEOSR\n1.29742747\n0.00\n0.5882353\n    Eosinophils (G/L)\nEOS\n0.11481863\n0.00\n0.1000000\n    Fibrinogen (mg/dl)\nFIB\n547.36481359\n55.00\n529.0000000\n    Gamma-glutamyl transpeptidase (G/L)\nGGT\n115.05838112\n3.00\n49.0000000\n    Glucoses (mg/dl)\nGLU\n126.40565768\n19.00\n113.0000000\n    Haematocrit (%)\nHCT\n34.48307734\n0.00\n34.3000000\n    Haemoglobin (G/L)\nHGB\n11.56801365\n3.00\n11.4000000\n    Lactate dehydrogenase (U/L)\nLDH\n331.15165292\n39.00\n239.0000000\n    Lipases (U/L)\nLIP\n63.82141557\n0.00\n23.0000000\n    Lymphocyte ratio (% (mg/dl))\nLYMR\n14.61410741\n0.00\n11.3402062\n    Lymphocytes (G/L)\nLYM\n1.36577725\n0.00\n1.0000000\n    Magnesium (mmol/L)\nMG\n0.81360084\n0.20\n0.8100000\n    Mean corpuscular hemoglobin (fl)\nMCH\n29.57993037\n14.90\n29.7000000\n    Mean corpuscular hemoglobin concentration (g/dl)\nMCHC\n33.47141784\n23.70\n33.5000000\n    Mean corpuscular volume (pg)\nMCV\n88.35160762\n51.00\n88.3000000\n    Mean platelet volume (fl)\nMPV\n10.38182858\n7.30\n10.3000000\n    Monocyte ratio (%)\nMONOR\n8.79255066\n0.00\n8.0000000\n    Monocytes (G/L)\nMONO\n0.85273797\n0.00\n0.8000000\n    Neutrophile ratio (%)\nNEUR\n75.15086887\n0.00\n78.3333333\n    Neutrophiles (G/L)\nNEU\n8.36677648\n0.00\n7.3000000\n    Normotest (%)\nNT\n83.22087696\n4.00\n83.0000000\n    Pancreas amylase (U/L)\nPAMY\n41.65830804\n1.00\n22.0000000\n    Patient Age (years)\nAGE\n56.16806208\n16.00\n58.0000000\n    Phosphate (mmol/L)\nPHOS\n1.04768756\n0.30\n0.9900000\n    Platelet distribution width (%)\nPDW\n12.29323718\n6.60\n12.0000000\n    Potassium (mmol/L)\nPOTASS\n4.00301191\n1.92\n3.9500000\n    Red blood cell distribution width (%)\nRDW\n14.99738299\n10.60\n14.5000000\n    Red blood count (T/L)\nRBC\n3.93573436\n1.00\n3.9000000\n    Sodium (mmol/L)\nSODIUM\n137.21135059\n106.00\n137.0000000\n    Total protein (G/L)\nTP\n64.90141135\n29.90\n65.7000000\n    Triclyceride (mg/dl)\nTRIG\n141.70799585\n14.00\n115.0000000\n    Uric acid (mg/dl)\nHS\n5.41254514\n1.30\n5.0000000\n    White blood count (G/L)\nWBC\n11.22715651\n0.00\n9.6000000\n  \n  \n  \n\n\n\n\n\n\n \n\n\n key_predictors  6  Variables   14691  Observations  PLT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14649427181220130.1 50 81140204277369445\n \n lowest :    0    1    2    3    4 ,  highest: 1068 1211 1321 1639 2092  CREA: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1453215967411.3290.85180.6200.6900.8101.0001.3502.1603.144\n \n lowest :  0.26  0.27  0.28  0.29  0.30 ,  highest: 15.24 15.40 15.67 16.64 20.75  BUN: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14519172947122.6616.92 7.1 8.611.616.626.944.860.8\n \n lowest :   2.5   2.7   2.8   2.9   3.0 ,  highest: 160.6 171.3 171.9 176.0 184.8  NEU: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1396372837418.3675.776 1.60 2.70 4.60 7.3010.8015.0818.40\n \n lowest :  0.0  0.1  0.2  0.3  0.4 ,  highest: 54.0 56.4 63.7 71.6 83.8  WBC: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 142294622710111.237.602 2.66 4.26 6.63 9.6013.5318.2222.27\n \n lowest :   0.00   0.01   0.02   0.03   0.04 ,  highest: 365.30 383.74 387.73 433.83 604.47  AGE: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14691085156.1720.7824294358707984\n \n lowest :  16  17  18  19  20 ,  highest:  96  97  98  99 101 \n\n\n\n5.2.2.2 Predictors of medium importance\n\n\n \n\n\n medium_predictors  6  Variables   14691  Observations  FIB: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 12124256710841547.4231247301397529674816892\n \n lowest :   55   60   66   67   69 ,  highest: 1506 1508 1529 1537 1593  POTASS: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 12683200840814.0030.60043.203.393.663.954.294.674.92\n \n lowest :  1.92  2.07  2.11  2.12  2.21 ,  highest:  8.57 11.34 13.55 14.60 36.62  Value        2.0   2.5   3.0   3.5   4.0   4.5   5.0   5.5   6.0   6.5   7.0   7.5\n Frequency      6    91   650  3385  5088  2455   692   201    73    26     7     2\n Proportion 0.000 0.007 0.051 0.267 0.401 0.194 0.055 0.016 0.006 0.002 0.001 0.000\n                                               \n Value        8.0   8.5  11.5  13.5  14.5  36.5\n Frequency      2     1     1     1     1     1\n Proportion 0.000 0.000 0.000 0.000 0.000 0.000\n \n  For the frequency table, variable is rounded to the nearest 0.5  ASAT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 135371154650186.9115.6 15 17 22 31 56121218\n \n lowest :     3     5     6     7     8 ,  highest: 10845 11928 12079 12380 13991  ALAT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13704987578167.6690.07  9 11 16 26 48101175\n \n lowest :     0     1     2     3     4 ,  highest:  7109  9136  9314 12329 15059  GGT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1342912628581115.1141.3 13.0 16.0 25.0 49.0117.0262.2429.0\n \n lowest :    3    5    6    7    8 ,  highest: 2932 3303 3782 3919 5171  CRP: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 145361553328110.9210.39 0.29 0.77 2.87 8.5716.4524.4929.61\n \n lowest :  0.00  0.01  0.02  0.03  0.04 ,  highest: 58.40 61.81 63.96 73.04 76.32 \n\n\n\n5.2.2.3 Remaining predictors\n\n\n \n\n\n remaining_predictors  38  Variables   14691  Observations  MCV: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1464942506188.356.99278.281.184.788.392.095.999.0\n \n lowest :  51.0  52.6  54.9  56.3  57.5 ,  highest: 121.0 121.8 124.6 127.9 128.7  HGB: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1465041157111.572.558 8.2 8.8 9.911.413.214.615.4\n \n lowest :  3.0  3.1  3.5  3.9  4.1 ,  highest: 19.5 20.5 20.7 20.8 21.0  HCT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1464942404134.487.31624.626.429.834.339.142.944.8\n \n lowest :  0.0  0.1  0.2  9.7  9.8 ,  highest: 61.4 61.9 63.2 65.3 66.6  MCH: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1464942232129.582.69325.326.728.429.731.032.433.4\n \n lowest : 14.9 15.6 15.9 16.0 16.5 ,  highest: 42.0 42.3 42.4 42.5 47.4  MCHC: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14649421240.99933.471.54631.131.732.633.534.435.235.6\n \n lowest : 23.7 24.4 24.8 25.1 26.1 ,  highest: 38.3 38.4 38.9 39.3 43.5  RDW: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14635561731152.38512.412.713.414.516.018.019.5\n \n lowest : 10.6 11.1 11.2 11.3 11.4 ,  highest: 28.6 28.9 29.1 29.7 31.8  MPV: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13989702710.99910.381.132 8.9 9.2 9.710.311.011.712.2\n \n lowest :  7.3  7.7  7.8  7.9  8.0 ,  highest: 14.2 14.3 14.6 14.8 15.0  LYM: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 144292621140.9981.3661.1620.20.40.71.01.62.12.6\n \n lowest :   0.0   0.1   0.2   0.3   0.4 ,  highest: 149.9 357.5 366.8 375.1 578.1  Value          0     5    10    15    20    30    35    40    45    75   100   115\n Frequency  13675   703    27     7     4     2     1     1     1     1     1     1\n Proportion 0.948 0.049 0.002 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000 0.000\n                                         \n Value        150   360   365   375   580\n Frequency      1     1     1     1     1\n Proportion 0.000 0.000 0.000 0.000 0.000\n \n  For the frequency table, variable is rounded to the nearest 5  MONO: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14445246670.9960.85270.59650.10.30.50.81.11.51.8\n \n lowest :  0.0  0.1  0.2  0.3  0.4 ,  highest: 13.9 14.6 16.2 17.3 20.4  EOS: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14556135360.8670.11480.15850.00.00.00.10.10.30.4\n \n lowest :  0.0  0.1  0.2  0.3  0.4 ,  highest:  3.8  5.3  9.6 11.5 15.8  BASO: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14545146180.3370.017250.031110.00.00.00.00.00.10.1\n \n lowest : 0.0 0.1 0.2 0.3 0.4 ,  highest: 1.3 1.4 1.5 2.2 6.5  Value        0.0   0.1   0.2   0.3   0.4   0.5   0.6   0.7   0.8   0.9   1.0   1.1\n Frequency  12671  1636   109    59    31    14     6     7     1     2     1     2\n Proportion 0.871 0.112 0.007 0.004 0.002 0.001 0.000 0.000 0.000 0.000 0.000 0.000\n                                               \n Value        1.2   1.3   1.4   1.5   2.2   6.5\n Frequency      1     1     1     1     1     1\n Proportion 0.000 0.000 0.000 0.000 0.000 0.000\n \n  NT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 122242467149183.2230.56 35 48 67 83101118128\n \n lowest :   4   5   6   7   8 ,  highest: 148 149 150 151 152  APTT: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 121422549631140.069.53330.131.434.137.742.749.956.6\n \n lowest :  21.4  21.6  23.4  23.5  23.6 ,  highest: 160.7 163.0 168.7 171.6 176.1  SODIUM: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 134091282580.994137.25.034129132135137140142144\n \n lowest : 106 108 109 110 112 ,  highest: 161 165 166 168 170  CA: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13415127618512.2140.22131.891.962.092.222.352.452.51\n \n lowest : 1.03 1.15 1.18 1.20 1.23 ,  highest: 3.84 3.88 3.96 4.18 4.40  PHOS: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13449124230611.0480.39930.550.640.810.991.201.471.74\n \n lowest : 0.30 0.31 0.32 0.33 0.34 ,  highest: 4.36 4.43 4.53 5.48 6.22  MG: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1282218691460.9990.81360.16090.590.640.720.810.890.981.06\n \n lowest : 0.20 0.21 0.22 0.26 0.28 ,  highest: 1.83 1.88 1.96 2.07 2.22  HS: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 11630306116915.4132.625 2.2 2.7 3.7 5.0 6.6 8.510.0\n \n lowest :  1.3  1.4  1.5  1.6  1.7 ,  highest: 19.8 20.2 22.2 22.3 22.7  GBIL: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13250144188511.4061.4770.330.390.530.771.232.343.96\n \n lowest :  0.11  0.12  0.13  0.14  0.15 ,  highest: 42.82 43.83 45.10 51.72 51.77  TP: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 131081583649164.912.9745.2049.4756.9065.7073.3078.8082.00\n \n lowest :  29.9  30.0  30.3  30.5  30.6 ,  highest: 107.8 108.1 108.7 112.8 120.9  ALB: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 130151676401133.428.51321.323.627.933.639.143.245.2\n \n lowest : 10.0 10.2 10.5 10.6 10.7 ,  highest: 52.9 53.2 53.7 54.0 55.7  AMY: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 107783913488190.83100.5 18 23 33 49 76125187\n \n lowest :     8     9    10    11    12 ,  highest:  4984  5248 40372 43970 56146  Value          0   500  1000  1500  2000  2500  4000  4500  5000 40500 44000 56000\n Frequency  10432   268    39    14    12     4     2     2     2     1     1     1\n Proportion 0.968 0.025 0.004 0.001 0.001 0.000 0.000 0.000 0.000 0.000 0.000 0.000\n \n  For the frequency table, variable is rounded to the nearest 500  PAMY: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 757771142800.99941.6647.28 7 91422366497\n \n lowest :     1     2     3     4     5 ,  highest:  1673  2083  2116  3066 38369  Value          0   500  1000  1500  2000  3000 38500\n Frequency   7495    65     7     6     2     1     1\n Proportion 0.989 0.009 0.001 0.001 0.000 0.000 0.000\n \n  For the frequency table, variable is rounded to the nearest 500  LIP: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 109923699444163.8289.88  6  8 14 23 40 79135\n \n lowest :     0     1     2     3     4 ,  highest: 11469 15843 18560 22339 45991  CHE: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 12244244799714.792.3781.702.173.154.606.227.658.49\n \n lowest :  0.98  0.99  1.00  1.01  1.02 ,  highest: 12.39 12.55 12.97 13.32 13.89  AP: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1329114006721118.891.51 42 49 63 84123206302\n \n lowest :   11   14   15   16   17 ,  highest: 1980 2132 2549 2596 2995  LDH: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 12977171411371331.2240.9136152187239332508724\n \n lowest :    39    46    54    55    56 ,  highest: 10473 10784 10822 11246 13906  CK: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 12611208015061385615.4  18  25  42  80 184 5771155\n \n lowest :     8     9    10    11    12 ,  highest: 60799 63011 82180 83880 98801  GLU: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 1049941923891126.448.3 78 85 97113138177216\n \n lowest :   19   22   23   26   28 ,  highest:  843  848  890 1349 1403  TRIG: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 963050615381141.790.33 54 64 83115165241307\n \n lowest :   14   15   16   20   22 ,  highest: 1796 2247 2662 2918 5440  CHOL: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 964650453391150.859.23 74 89113145182219243\n \n lowest :   25   26   27   28   29 ,  highest:  646  662  676  710 1104  BASOR: Parameter analysis value (Numeric)         n  missing distinct     Info     Mean      Gmd      .05      .10      .25 \n    13959      732      419    0.322    0.145   0.2679   0.0000   0.0000   0.0000 \n      .50      .75      .90      .95 \n   0.0000   0.0000   0.5501   1.0526 \n \n \n \n lowest : 0.0000000 0.1358696 0.1545595 0.1652893 0.1818182\n highest:11.111111115.217391316.666666718.421052623.6559140\n \n  EOSR: Parameter analysis value (Numeric)         n  missing distinct     Info     Mean      Gmd      .05      .10      .25 \n    13959      732      927    0.891    1.297    1.825   0.0000   0.0000   0.0000 \n      .50      .75      .90      .95 \n   0.5882   1.7857   3.4900   5.0000 \n \n \n \n lowest : 0.0000000 0.1834862 0.2028398 0.2178649 0.2188184\n highest:39.175257746.601941746.902654950.000000073.4883721\n \n  LYMR: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 139597323121114.6111.87 2.752 4.000 6.75711.34018.18227.86936.620\n \n \n \n lowest :  0.0000000  0.3215434  0.4484305  0.4608295  0.4636785\n highest: 97.2413793 97.4193548 98.0000000 99.1847826100.0000000\n \n  MONOR: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 13959732233418.7935.4 2.000 3.390 5.634 8.00010.87014.14117.021\n \n \n \n lowest :  0.0000000  0.2747253  0.3412969  0.3448276  0.4566210\n highest: 68.5446009 69.2307692 70.3703704 72.7272727100.0000000\n \n  NEUR: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 139597323850175.1515.647.4257.8869.2378.3385.3290.1392.63\n \n \n \n lowest :  0.000000  1.484829  1.935484  1.960784  2.413793\n highest: 99.122807 99.166667 99.476440 99.484536100.000000\n \n  PDW: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 135891102167112.292.375 9.3 9.810.812.013.415.116.4\n \n lowest :  6.6  6.8  6.9  7.0  7.1 ,  highest: 24.1 24.7 24.9 25.2 25.3  RBC: Parameter analysis value (Numeric) \n \n nmissingdistinctInfoMeanGmd.05.10.25.50.75.90.95\n 14230461650.9993.9360.87722.72.93.43.94.54.95.2\n \n lowest : 1.0 1.1 1.2 1.3 1.4 ,  highest: 7.2 7.4 7.6 7.7 8.2 \n\n\n\n\n5.2.3 Suggested transformations\nNext we investigate whether a pseudolog transformation of continuous variables may substantially symmetrize the univariate distributions of the continuous variables, and may hence be useful for multivariate summaries. We employ a function ida_trans for this purpose, which optimises the parameter sigma of the pseudo-logarithm for that purpose. The optimization targets the best possible linear correlation of the transformed values with normal deviates. If no better transformation can be found, or if the improvement in correlation is less than 0.2 correlation units, no transformation is suggested.\n\n\n\nDisplay the proposed variable transformations and the new parameter codes.\n\n\n\n\n\n\n  \n  \n    \n      PARAMCD\n      n\n    \n  \n  \n    ALAT_T\n14691\n    AMY_T\n14691\n    AP_T\n14691\n    ASAT_T\n14691\n    CK_T\n14691\n    CREA_T\n14691\n    EOS_T\n14691\n    GBIL_T\n14691\n    GGT_T\n14691\n    LDH_T\n14691\n    LIP_T\n14691\n    LYM_T\n14691\n    PAMY_T\n14691\n    TRIG_T\n14691\n    WBC_T\n14691\n  \n  \n  \n\n\n\n\nRegister transformed variables in the data set. The updated data set with suggested log transformed data sets is save at data/ADLB_02.rds.\nUpdate the IDA analysis plan with the proposed variable transformations. Create a new flag to indicate the selection of predictors including transformations.\n\n\n\n\n\n5.2.4 Comparison of univariate distributions with and without pseudo-log transformation\nThe comparison is only shown for variables where a transformation is suggested."
  },
  {
    "objectID": "Bact_multivar.html#v1-association-with-structural-variables",
    "href": "Bact_multivar.html#v1-association-with-structural-variables",
    "title": "6  Multivariate analyses",
    "section": "6.1 V1: Association with structural variables",
    "text": "6.1 V1: Association with structural variables\nAttached the required structural variables to the lab data.\n\n\n\nA scatterplot of each predictor with age, with different panels for males and females have been constructed. Associated Spearman correlation coefficients have been computed.\n\n6.1.1 Key predictors\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.1.2 Predictors of medium importance\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.1.3 Remaining predictors"
  },
  {
    "objectID": "Bact_multivar.html#v2-correlation-coefficients-between-all-predictors",
    "href": "Bact_multivar.html#v2-correlation-coefficients-between-all-predictors",
    "title": "6  Multivariate analyses",
    "section": "6.2 V2: Correlation coefficients between all predictors",
    "text": "6.2 V2: Correlation coefficients between all predictors\nCalaulcate correlation matrix using Spearman correlation coefficient.\n\n\n\nThe Spearman correlation coefficients are depicted in a quadratic heat map:\n\n\n\n\n\n\n\n\n\n6.2.1 VE1: Comparing nonparametric and parametric predictor correlation\n\n\n\nPlot the difference matrix\n\n\n\n\n\nPlot the matrix but suppress differences less then 0.1.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nPredictor pairs for which Spearman and Pearson correlation coefficients differ by more than 0.1 correlation units will be depicted in scatterplots:\n\n\n\n\n\n\n  \n  \n    \n      x\n      y\n      r\n    \n  \n  \n    PLT\nLYMR\n0.1161529\n    MONO\nMONOR\n0.1761864\n    BASO\nEOS_T\n0.1169964\n    BUN\nAGE\n0.1329799\n    EOSR\nLYMR\n0.1818832\n    EOSR\nEOS_T\n0.2153632\n    EOSR\nLYM_T\n0.1449289\n    LYMR\nMONOR\n0.1108623\n    LYMR\nEOS_T\n0.1646488\n    LYMR\nLYM_T\n0.2177349\n    MONOR\nLYM_T\n0.1321718\n    NEU\nNEUR\n0.1062152\n  \n  \n  \n\n\n\n\nData prep\n\n\n\nPlot the data.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.2.2 VE2: Variable clustering\nA variable clustering analysis has been performed to evaluate which predictors are closely associated. The dendrogram groups predictors by their correlation.\n\n\n\n\n\nplot network plot\n\n\n\n\n\nplot network with min cor of 0.3.\n\n\n\n\n\nIn the following scatterplots we show predictor pairs with Spearman correlation coefficients greater than 0.8:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.2.3 VE3: Redundancy\nVariance inflation factors (VIF) will be computed between the candidate predictors. This will be done for the three possible candidate models, and using all complete cases in the respective candidate predictor sets. Since \\(VIF = (1-R^2)^{-1}\\), we also report the multiple R-squared values. Redundancy was further explored by computing parametric additive models for each predictor in the key predictor model and the extended predictor model. VIFs and multiple \\(R^2\\) are reported from those models, again for the three predictor sets.\n\n6.2.3.1 VIF for key predictor model\n\n\n\nThe available sample size is 3979 (0.42 %).\n\n\nWarning: package 'gtExtras' was built under R version 4.1.3\n\n\n\n\n\n\n  \n  \n    \n      Parameter code\n      Variance inflation factor\n      Multiple R-squared\n    \n  \n  \n    SEX\n1.3\n0.25\n    MCV\n129.5\n0.99\n    HGB\n254.3\n1.00\n    HCT\n249.4\n1.00\n    PLT\n1.9\n0.48\n    MCH\n179.4\n0.99\n    MCHC\n47.5\n0.98\n    RDW\n1.9\n0.47\n    MPV\n9.2\n0.89\n    MONO\n4.3\n0.77\n    BASO\n2.6\n0.62\n    NT\n1.5\n0.32\n    APTT\n1.2\n0.18\n    FIB\n2.9\n0.66\n    SODIUM\n1.4\n0.30\n    POTASS\n1.4\n0.29\n    CA\n2.1\n0.52\n    PHOS\n1.6\n0.36\n    MG\n1.3\n0.23\n    BUN\n3.2\n0.69\n    HS\n1.8\n0.43\n    TP\n4.5\n0.78\n    ALB\n6.3\n0.84\n    CHE\n2.8\n0.65\n    GLU\n1.3\n0.20\n    TRIG\n1.4\n0.29\n    CHOL\n1.9\n0.47\n    CRP\n2.8\n0.65\n    EOSR\n47.2\n0.98\n    LYMR\n1,321.2\n1.00\n    MONOR\n321.4\n1.00\n    NEU\n8.9\n0.89\n    NEUR\n2,179.0\n1.00\n    PDW\n9.1\n0.89\n    RBC\n40.1\n0.98\n    AGE\n1.5\n0.31\n    ALAT_T\n3.9\n0.74\n    AMY_T\n2.7\n0.63\n    AP_T\n2.3\n0.57\n    ASAT_T\n6.6\n0.85\n    CK_T\n2.2\n0.55\n    CREA_T\n2.9\n0.65\n    EOS_T\n3.4\n0.71\n    GBIL_T\n1.6\n0.38\n    GGT_T\n2.6\n0.62\n    LDH_T\n2.2\n0.55\n    LIP_T\n2.2\n0.55\n    LYM_T\n4.5\n0.78\n    PAMY_T\n3.4\n0.71\n    WBC_T\n15.6\n0.94\n  \n  \n  \n\n\n\n\n\n\n6.2.3.2 VIF for model with key predictors and predictors of medium importance\n\n\n\n\n\n6.2.3.3 VIF for all predictor model\n\n\n\n\n\n6.2.3.4 Redundancy by parametric additive model: key predictor model\n\n\n\n\n\n6.2.3.5 Redundancy by parametric additive model: key predictors and predictors of medium importance\n\n\n\n\n\n6.2.3.6 Redundancy by parametric additive model: all predictors"
  },
  {
    "objectID": "Bact_analysis_data_final.html",
    "href": "Bact_analysis_data_final.html",
    "title": "7  Analysis ready data - second iteration",
    "section": "",
    "text": "8 Set analysis flags for\nHandled by ADSL\nFlags within ADBL\n$pivotal_vars [1] “WBC” “AGE”\n$vip_vars [1] “WBC” “AGE” “BUN” “CREA” “NEU” “PLT”\n$leuko_related_vars [1] “WBC” “NEU” “EOS” “BASO” “LYM” “MONO”\n$leuko_ratio_vars [1] “NEUR” “EOSR” “BASOR” “LYMR” “MONOR”\n$acute_related_vars [1] “FIB” “CRP” “ASAT” “ALAT” “GGT”\n$remaining_vars [1] “MCV” “HGB” “HCT” “MCH” “MCHC” “RDW” “MPV” “NT” “APTT” “NA.” “CA” “PHOS” “MG” “HS” “GBIL” [16] “TP” “ALB” “AMY” “PAMY” “LIP” “CHE” “AP” “LDH” “CK” “GLU” “TRIG” “CHOL” “PDW” “RBC”"
  },
  {
    "objectID": "Bact_analysis_data_final.html#dervive-wbc_neu",
    "href": "Bact_analysis_data_final.html#dervive-wbc_neu",
    "title": "7  Analysis ready data - second iteration",
    "section": "7.1 dervive WBC_NEU",
    "text": "7.1 dervive WBC_NEU"
  },
  {
    "objectID": "Bact_analysis_data_final.html#complete-cases-flag",
    "href": "Bact_analysis_data_final.html#complete-cases-flag",
    "title": "7  Analysis ready data - second iteration",
    "section": "9.1 Complete cases flag",
    "text": "9.1 Complete cases flag"
  },
  {
    "objectID": "Bact_analysis_data_final.html#key-predictors-orig",
    "href": "Bact_analysis_data_final.html#key-predictors-orig",
    "title": "7  Analysis ready data - second iteration",
    "section": "9.2 key predictors orig",
    "text": "9.2 key predictors orig"
  },
  {
    "objectID": "Bact_analysis_data_final.html#key-predictors-transformed",
    "href": "Bact_analysis_data_final.html#key-predictors-transformed",
    "title": "7  Analysis ready data - second iteration",
    "section": "9.3 key predictors transformed",
    "text": "9.3 key predictors transformed"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Johnson, N. L. 1949. “Systems of Frequency Curves Generated by\nMethods of Translation.” Biometrika 36 (1/2): 149–76. http://www.jstor.org/stable/2332539.\n\n\nRatzinger, Franz, Michel Dedeyan, Matthias Rammerstorfer, Thomas\nPerkmann, Heinz Burgmann, Athanasios Makristathis, Georg Dorffner, Felix\nLötsch, Alexander Blacky, and Michael Ramharter. 2014. “A Risk\nPrediction Model for Screening Bacteremic Patients: A Cross Sectional\nStudy.” PLOS ONE 9 (9): 1–10. https://doi.org/10.1371/journal.pone.0106765."
  },
  {
    "objectID": "Source_data.html#sec-data_dict",
    "href": "Source_data.html#sec-data_dict",
    "title": "Appendix A — Source data",
    "section": "A.1 Data dictionary",
    "text": "A.1 Data dictionary\nThe data dictionary provides an overview of the collected data. First, we read and display the data dictionary below providing an overview of the collected measurements.\n\n\n\nThe variable name and label are displayed alongside the measurement scale and units as well as remarks and relevant study information from_paper.\n\n\n\n\n\n\n  \n  \n    \n      variable\n      label\n      scale_of_measurement\n      units\n    \n  \n  \n    ID\nPatient Identification\nnominal\n1-14691\n    SEX\nPatient sex\nnominal\n1=male, 2=female\n    AGE\nPatient Age\ncontinuous\nyears\n    MCV\nMean corpuscular volume\ncontinuous\npg\n    HGB\nHaemoglobin\ncontinuous\nG/L\n    HCT\nHaematocrit\ncontinuous\n%\n    PLT\nBlood platelets\ncontinuous\nG/L\n    MCH\nMean corpuscular hemoglobin\ncontinuous\nfl\n    MCHC\nMean corpuscular hemoglobin concentration\ncontinuous\ng/dl\n    RDW\nRed blood cell distribution width\ncontinuous\n%\n    MPV\nMean platelet volume\ncontinuous\nfl\n    LYM\nLymphocytes\ncontinuous\nG/L\n    MONO\nMonocytes\ncontinuous\nG/L\n    EOS\nEosinophils\ncontinuous\nG/L\n    BASO\nBasophiles\ncontinuous\nG/L\n    NT\nNormotest\ncontinuous\n%\n    APTT\nActivated partial thromboplastin time\ncontinuous\nsec\n    FIB\nFibrinogen\ncontinuous\nmg/dl\n    SODIUM\nSodium\ncontinuous\nmmol/L\n    POTASS\nPotassium\ncontinuous\nmmol/L\n    CA\nCalcium\ncontinuous\nmmol/L\n    PHOS\nPhosphate\ncontinuous\nmmol/L\n    MG\nMagnesium\ncontinuous\nmmol/L\n    CREA\nCreatinine\ncontinuous\nmg/dl\n    BUN\nBlood urea nitrogen\ncontinuous\nmg/dl\n    HS\nUric acid\ncontinuous\nmg/dl\n    GBIL\nBilirubin\ncontinuous\nmg/dl\n    TP\nTotal protein\ncontinuous\nG/L\n    ALB\nAlbumin\ncontinuous\nG/L\n    AMY\nAmylase\ncontinuous\nU/L\n    PAMY\nPancreas amylase\ncontinuous\nU/L\n    LIP\nLipases\ncontinuous\nU/L\n    CHE\nCholinesterase\ncontinuous\nkU/L\n    AP\nAlkaline phosphatase\ncontinuous\nU/L\n    ASAT\nAspartate transaminase\ncontinuous\nU/L\n    ALAT\nAlanin transaminase\ncontinuous\nU/L\n    GGT\nGamma-glutamyl transpeptidase\ncontinuous\nG/L\n    LDH\nLactate dehydrogenase\ncontinuous\nU/L\n    CK\nCreatinine kinases\ncontinuous\nU/L\n    GLU\nGlucoses\ncontinuous\nmg/dl\n    TRIG\nTriclyceride\ncontinuous\nmg/dl\n    CHOL\nCholesterol\ncontinuous\nmg/dl\n    CRP\nC-reactive protein\ncontinuous\nmg/dl\n    BASOR\nBasophile ratio\ncontinuous\n%\n    EOSR\nEosinophil ratio\ncontinuous\n%\n    LYMR\nLymphocyte ratio\ncontinuous\n% (mg/dl)\n    MONOR\nMonocyte ratio\ncontinuous\n%\n    NEU\nNeutrophiles\ncontinuous\nG/L\n    NEUR\nNeutrophile ratio\ncontinuous\n%\n    PDW\nPlatelet distribution width\ncontinuous\n%\n    RBC\nRed blood count\ncontinuous\nT/L\n    WBC\nWhite blood count\ncontinuous\nG/L\n    BloodCulture\nBlood culture result for bacteremia\nnominal\nno, yes"
  },
  {
    "objectID": "Bact_suppl.html#overview",
    "href": "Bact_suppl.html#overview",
    "title": "Appendix B — Supplementary Example",
    "section": "B.1 Overview",
    "text": "B.1 Overview\nDefine key predictors without pseudo-log transform (‘orig’) and transformed (‘trans’).\n\n\n\nIn the following examples we use the Bacteremia data with complete observations regarding the key predictors PLT, BUN, NEU, AGE, CREA_T, WBC_noNEU_T, which represent 93.9% of the dataset w.r.t key predictors. We will fit a global logistic regression model with the outcome BACTEREMIAN (i.e. presence of bacteremia) and the key predictors as covariates. We will use pseudo-log transformations as suggested in the IDA. Within the model, all key predictors will be transformed by fractional polynomials of order 1 (df = 2).\nThe aim of the examples is to showcase how decisions derived from IDA influence the results of the fitted model."
  },
  {
    "objectID": "Bact_suppl.html#global-model",
    "href": "Bact_suppl.html#global-model",
    "title": "Appendix B — Supplementary Example",
    "section": "B.2 Global Model",
    "text": "B.2 Global Model\nThe global model will be fitted by the mfp function. If not indicated otherwise, we will use the fp-transformations of the key predictors determined in global model in all consecutive models. For all models we report McFaddens’s R² and the AUC, i.e. the area under the ROC curve, and boxplots comparing “BACTEREMIAN” predictions with outcomes.\n\nB.2.1 Model Summary\n\n\n\nThe global model is specified as print(global_formula, quote = TRUE). The model is fit to the complete cases data on the transformed scale stored in the data set data_model_trans.\n\n\n\nReport the global model fit.\n\n\n\n\n\n\n  \n    \n      global model - including transformed variables\n    \n    \n  \n  \n    \n      term\n      estimate\n      std.error\n      statistic\n      p.value\n    \n  \n  \n    (Intercept)\n−2.70\n0.59\n−4.59\n4.52 × 10−6\n    I((WBC_noNEU_T + 0.1)^0.5)\n−5.22\n0.25\n−20.51\n1.71 × 10−93\n    I(((NEU + 0.1)/10)^0.5)\n1.53\n0.12\n13.09\n3.89 × 10−39\n    I((AGE/100)^1)\n1.69\n0.20\n8.49\n2.15 × 10−17\n    I(CREA_T^1)\n0.71\n0.20\n3.60\n3.23 × 10−4\n    I(((PLT + 1)/100)^1)\n−0.08\n0.03\n−2.57\n1.03 × 10−2\n    I((BUN/10)^1)\n0.01\n0.02\n0.43\n6.65 × 10−1\n  \n  \n  \n\n\n\n\nPlot predictions by outcome and report the model AUC.\n\n\n\n\n\nGlobal model - including covariates on the transformed psuedo log scale\n\n\n\n\n\n\nB.2.2 Functional forms of global model\nWe now take a look at the functional forms of the covariates in the global model, which are determined by the fp algorithm. Besides scaling factors, only for WBC_noNEU_T the fp algorithm chose a non-linear transformation (note the ‘^0.5’ in the term column). This means all other covariates enter the model in a linear fashion. In the following effect plots, each variable is adjusted to the median of the other variables in the model.\n\n\n\n\n\n\n\n(a)\n\n\n\n\n\n\n\n(b)\n\n\n\n\n\n\n\n(c)\n\n\n\n\n\n\n\n\n\n(d)\n\n\n\n\n\n\n\n(e)\n\n\n\n\n\n\n\n(f)\n\n\n\n\nFigure B.1: Functional forms of global model - repeats over plots"
  },
  {
    "objectID": "Bact_suppl.html#example-1-to-transform-or-not-to-transform",
    "href": "Bact_suppl.html#example-1-to-transform-or-not-to-transform",
    "title": "Appendix B — Supplementary Example",
    "section": "B.3 Example 1: to transform or not to transform",
    "text": "B.3 Example 1: to transform or not to transform\nOnly for one out of the six key predictors did the fp algorithm chose a non-linear transformation. But out of those six variables, four were pseudo-log transformed before entering the model. In the first example we want to compare the global model to a model using the key predictors on their original scale.\n\n\n\n\n\n\n\n\n\n\n\n\n  \n    \n      Global model without pseudo-log tranformations\n    \n    \n  \n  \n    \n      term\n      estimate\n      std.error\n      statistic\n      p.value\n    \n  \n  \n    (Intercept)\n−3.18\n0.28\n−11.17\n5.48 × 10−29\n    log((WBC_noNEU + 0.2))\n−1.25\n0.06\n−20.22\n5.92 × 10−91\n    I(((NEU + 0.1)/10)^0.5)\n1.52\n0.12\n12.99\n1.34 × 10−38\n    I((AGE/100)^1)\n1.64\n0.20\n8.26\n1.51 × 10−16\n    I(((PLT + 1)/100)^1)\n−0.08\n0.03\n−2.53\n1.13 × 10−2\n    I((BUN/10)^1)\n0.02\n0.02\n0.68\n5.00 × 10−1\n    I(CREA^-0.5)\n−0.77\n0.21\n−3.69\n2.20 × 10−4\n  \n  \n  \n\n\n\n\nNote the different fp-transformation arising when the key predictors are not pseudo-log transformed. On the original scale, three covariates instead of one now enter the model via a non-linear fp-transformation. This suggests that a transformation prior to the regression model ‘outsources’ the need for transformations within the model. Now let us compare the model performances.\n\n\n\n\n\nGlobal model(s) with covariates on original and transformed scale.\n\n\n\n\nWith regards to McFadden’s R² and the AUC, the differences between the two approaches is marginal.\nNext we will compare the differences of the functional forms in the two models for those covariates where a pseudo-log transformation was suggested in IDA. We will look at the log odds for bacteremia by each covariate on the original and the transformed scale, and compare the global model using the original and the pseudo-log transformed covariates. Each variable is adjusted for the median of all other variables used.\n\n\n\n\n\n\n\n\n\n\n\nComparing functional form of both global models."
  },
  {
    "objectID": "Bact_suppl.html#example-2-the-support-of-a-model-determines-what-it-can-explain",
    "href": "Bact_suppl.html#example-2-the-support-of-a-model-determines-what-it-can-explain",
    "title": "Appendix B — Supplementary Example",
    "section": "B.4 Example 2: the support of a model determines what it can explain",
    "text": "B.4 Example 2: the support of a model determines what it can explain\nNext we compare the global model to a model were for an important variable, in our case we chose age, the variable support is reduced to the central 50% of the data (i.e. data within the 25% and 75% quantiles). Again, in the reduced models we use the same fp-transformations as in the global model.\n\n\n\n\n\n\n\n\n\n  \n  \n    \n      data\n      AUC\n      scaled Brier score\n    \n  \n  \n    complete\n0.731\n0.06484\n    central 50%\n0.722\n0.05286\n    50% sample\n0.736\n0.06543\n  \n  \n  \n\n\n\n\n\n\n\n\n\nModel predictions based on different missing data scenarios."
  },
  {
    "objectID": "Bact_suppl.html#example-3-the-limits-of-mulitiple-imputation",
    "href": "Bact_suppl.html#example-3-the-limits-of-mulitiple-imputation",
    "title": "Appendix B — Supplementary Example",
    "section": "B.5 Example 3: the limits of mulitiple imputation",
    "text": "B.5 Example 3: the limits of mulitiple imputation\nTo show the effect of multiple imputation if the number of missing values is high, we construct a dataset with 50% artificially generated missing values in one variable. First, recall the output of the complete model, relying on the Bacteremia data with complete cases regarding the key predictors.\n\n\n\n\n\n\n  \n    \n      global model\n    \n    \n  \n  \n    \n      term\n      estimate\n      std.error\n      statistic\n      p.value\n    \n  \n  \n    (Intercept)\n−2.70\n0.59\n−4.59\n4.52 × 10−6\n    I((WBC_noNEU_T + 0.1)^0.5)\n−5.22\n0.25\n−20.51\n1.71 × 10−93\n    I(((NEU + 0.1)/10)^0.5)\n1.53\n0.12\n13.09\n3.89 × 10−39\n    I((AGE/100)^1)\n1.69\n0.20\n8.49\n2.15 × 10−17\n    I(CREA_T^1)\n0.71\n0.20\n3.60\n3.23 × 10−4\n    I(((PLT + 1)/100)^1)\n−0.08\n0.03\n−2.57\n1.03 × 10−2\n    I((BUN/10)^1)\n0.01\n0.02\n0.43\n6.65 × 10−1\n  \n  \n  \n\n\n\n\nCreatinine (‘CREA’) is significant at a level that might not survive substantial missingness. We thus create a dataset were we artificially introduce 50% missing creatinine values, missing completely at random.\n\n\n\nNext we fit a ‘complete case’ model in the case of missing creatinine data, using the fp-transformations from the global model.\n\n\n\nNow we impute the missing creatinine data using MICE with 50 imputations, fit the model using the fp-transformations from the global model and pool the results.\n\n\n\nWe now can compare the outputs of the complete model, the complete model with missing data (i.e. only half of the original complete data is used), and the imputed model.\n\n\n\n\n\n\n  \n    \n      Comparison of the complete model, the complete model with missing data\n    \n    \n  \n  \n    \n      term\n      model\n      estimate\n      std.error\n      statistic\n      p.value\n    \n  \n  \n    (Intercept)\nglobal model\n−2.696\n0.588\n−4.586\n4.52 × 10−6\n    \nmissing, complete cases\n−2.614\n0.839\n−3.117\n1.82 × 10−3\n    \nmissing, imputed\n−2.475\n0.772\n−3.207\n1.52 × 10−3\n    I(((NEU + 0.1)/10)^0.5)\nglobal model\n1.525\n0.117\n13.087\n3.89 × 10−39\n    \nmissing, complete cases\n1.608\n0.166\n9.699\n3.05 × 10−22\n    \nmissing, imputed\n1.523\n0.117\n13.060\n0.00\n    I(((PLT + 1)/100)^1)\nglobal model\n−0.082\n0.032\n−2.566\n1.03 × 10−2\n    \nmissing, complete cases\n−0.126\n0.047\n−2.713\n6.67 × 10−3\n    \nmissing, imputed\n−0.078\n0.032\n−2.440\n1.47 × 10−2\n    I((AGE/100)^1)\nglobal model\n1.689\n0.199\n8.485\n2.15 × 10−17\n    \nmissing, complete cases\n1.973\n0.288\n6.850\n7.37 × 10−12\n    \nmissing, imputed\n1.671\n0.199\n8.389\n0.00\n    I((BUN/10)^1)\nglobal model\n0.010\n0.024\n0.433\n6.65 × 10−1\n    \nmissing, complete cases\n0.006\n0.035\n0.169\n8.66 × 10−1\n    \nmissing, imputed\n0.016\n0.029\n0.577\n5.64 × 10−1\n    I((WBC_noNEU_T + 0.1)^0.5)\nglobal model\n−5.217\n0.254\n−20.511\n1.71 × 10−93\n    \nmissing, complete cases\n−5.374\n0.363\n−14.785\n1.83 × 10−49\n    \nmissing, imputed\n−5.216\n0.255\n−20.495\n0.00\n    I(CREA_T^1)\nglobal model\n0.712\n0.198\n3.596\n3.23 × 10−4\n    \nmissing, complete cases\n0.664\n0.283\n2.347\n1.89 × 10−2\n    \nmissing, imputed\n0.634\n0.269\n2.360\n1.92 × 10−2\n  \n  \n  \n\n\n\n\nThe z-statistic for creatinine drops from 2.98 to 1.49 when half the data is missing. Also in other variables the z-statistic is less extreme in the ‘missing, complete case analysis’ compared to the global model. The interesting observations is that MI recreates estimates and standard errors very close to the global model in most variables, but not in the one that was being imputed, namely creatinine. In variable selection, creatinine, which is highly significant in the ‘true’ model, is likely to be dropped, based on the imputed data."
  },
  {
    "objectID": "Bact_suppl.html#example-4-interpretation-of-regression-coefficient-size",
    "href": "Bact_suppl.html#example-4-interpretation-of-regression-coefficient-size",
    "title": "Appendix B — Supplementary Example",
    "section": "B.6 Example 4: Interpretation of regression coefficient ‘size’",
    "text": "B.6 Example 4: Interpretation of regression coefficient ‘size’\nThe variables WBC_noNEU and WBC_noNEU_T are on two very different scales:\nPlot\n\n\n\n\n\nTable the standardized regression coefficients.\n\n\n\n\n\n\n  \n    \n      Global model - standardized regression estimates\n    \n    \n  \n  \n    \n      term\n      estimate\n    \n  \n  \n    I((WBC_noNEU_T + 0.1)^0.5)\n−5.217\n    I(((NEU + 0.1)/10)^0.5)\n1.525\n    I((AGE/100)^1)\n1.689\n    I(CREA_T^1)\n0.712\n    I(((PLT + 1)/100)^1)\n−0.082\n    I((BUN/10)^1)\n0.010\n  \n  \n  \n\n\n\n\nTable standardized coefficients.\n\n\n\n\n\n\n  \n    \n      Global model - standardized regression coefficients\n    \n    \n  \n  \n    \n      variable\n      standardized beta\n    \n  \n  \n    WBC_noNEU\n0.7024\n    NEU\n8.5615\n    AGE\n0.3071\n    CREA\n0.1562\n    PLT\n0.0993\n    BUN\n0.1802\n  \n  \n  \n\n\n\n\nLet us recall the two estimates to the covariates WBC_noNEU and WBC_noNEU_T.\n\n\n\n\n\n\n  \n    \n      Comparing original scale and transformed\n    \n    \n  \n  \n    \n      term\n      estimate\n    \n  \n  \n    I((WBC_noNEU_T + 0.1)^0.5)\n−5.22\n    log((WBC_noNEU + 0.2))\n−1.25\n  \n  \n  \n\n\n\n\n(Suggestion: show this with models without fp transform?)\nBecause the fp-transformations further complicate the interpretation of the regression coefficients, let us consider two logisitc regression models with WBC_noNEU and t_WBC_noNEU as single covariate, respectively.\n\n\n\n\n\n\n  \n    \n      Comparing original scale and transformed\n    \n    \n  \n  \n    \n      term\n      estimate\n    \n  \n  \n    WBC_noNEU\n−0.56\n    WBC_noNEU_T\n−2.88\n  \n  \n  \n\n\n\n\nThe estimates -0.56 and -2.88 the change in log odds for the outcome when the ‘term’ variable changes by 1 unit, but cannot be compared directly. A \\(1\\) unit change is only a small step on the original scale, where WBC_noNEU covers values from -0.15 up to 152.74. In comparison, WBC_noNEU_T lies between up to -, so change of \\(1\\) unit cover almost half the range of the variable."
  },
  {
    "objectID": "Bact_suppl.html#example-5-plot-of-functional-form-should-be-resticted-to-areas-with-high-density",
    "href": "Bact_suppl.html#example-5-plot-of-functional-form-should-be-resticted-to-areas-with-high-density",
    "title": "Appendix B — Supplementary Example",
    "section": "B.7 Example 5: Plot of functional form should be resticted to areas with high density",
    "text": "B.7 Example 5: Plot of functional form should be resticted to areas with high density\nThe functional forms have wide confidence intervals when the data is sparse. In presentations of the effects, plots of the functional forms can be limited to areas with high density. In this analysis, PLT was very sparse above ~800 [UNITS], which is reflected in a large confidence interval for high PLT values. In the effect plot PLT values could be limited to values <800 [UNITS].\n\n\n\n\n\nModel predictions\n\n\n\n\n\n\n\n\n\nWBC_noNEU comparison\n\n\n\n\n\n\n\n\n\nPLT comparison"
  },
  {
    "objectID": "Pseudo_log_explainer.html#introduction",
    "href": "Pseudo_log_explainer.html#introduction",
    "title": "Appendix C — Pseudo-log transformations",
    "section": "C.1 Introduction",
    "text": "C.1 Introduction\nThis supplemental section illustrates how pseudo-log transformations can be used to transform skewed distributions towards normality.\nThe transformation \\(f(x) = sinh^-1(x/2\\sigma)/log(10)\\) is a pseudo-logarithmic transformation mentioned by (Johnson 1949). It has the following advantages over ordinary logarithmic transformations:\n\nit is defined also for \\(x=\\) as \\(f(0) = 0\\)\nit is a signed logarithmic transformation, and is defined also for negative values as \\(f(-|x|)=-f(|x|)\\)\n\nOf course, this comes at the cost of deviation from the logarithmic transformation in terms of interpretability.\nThe parameter \\(\\sigma\\) may be used to adapt the transformation to a specific range of an empirical distribution.\nWe define the pseudo-logarithmic transformation in R as:\n\n\nShow the code\npseudo_log <- function(x, sigma=1, base=10)  asinh(x/(2 * sigma))/log(base)\ninv_pseudo_log <- function(x, sigma=1, base=10) 2 * sigma * sinh(x * log(base))"
  },
  {
    "objectID": "Pseudo_log_explainer.html#impact-of-choice-of-sigma",
    "href": "Pseudo_log_explainer.html#impact-of-choice-of-sigma",
    "title": "Appendix C — Pseudo-log transformations",
    "section": "C.2 Impact of choice of \\(\\sigma\\)",
    "text": "C.2 Impact of choice of \\(\\sigma\\)\nNext, we investigate how the parameter \\(\\sigma\\) impacts the result of the transformation. We assume that \\(x\\) follows a log-normal distribution, and we will show results of \\(f(x)\\) with different choices of \\(\\sigma\\). We center and scale \\(f(x)\\) before plotting.\n\n\nShow the code\np <- seq(0.001, 0.999, 0.001)\nx <- exp(qnorm(p, mean=0, sd=1))\n\nhist(x)\n\n\n\n\n\nShow the code\ny <- cbind(log(x), scale(pseudo_log(x, 1)), scale(pseudo_log(x,0.5)), scale(pseudo_log(x, 2)), scale(pseudo_log(x, 0.05)))\n\n\nplot(x, y[,2], type=\"l\", ylab=\"f(x)\", ylim=range(y))\nlines(x, y[,1], col=\"red\")\nlines(x, y[,3], type=\"l\", lty=2)\nlines(x, y[,4], type=\"l\", lty=3)\nlines(x, y[,5], type=\"l\", lty=4)\nlegend(\"topleft\", lty=c(1,1,2,3,4), col=c(\"red\",\"black\",\"black\",\"black\",\"black\"), \n       legend=c(\"log\", \"sigma=1\", \"sigma=0.5\", \"sigma=2\", \"sigma=0.05\"))\n\n\n\n\n\nIn the next code chunk, we multiply by 10 and repeat the exercise. We learn that the transformations become more similar and the choice of \\(\\sigma\\) less relevant.\n\n\nShow the code\nx <- x*10\n\ny <- cbind(scale(log(x)), scale(pseudo_log(x, 1)), scale(pseudo_log(x,0.5)), scale(pseudo_log(x, 2)), scale(pseudo_log(x, 0.05)))\n\n\nplot(x, y[,2], type=\"l\", ylab=\"f(x)\")\nlines(x, y[,1], col=\"red\")\nlines(x, y[,3], type=\"l\", lty=2)\nlines(x, y[,4], type=\"l\", lty=3)\nlines(x, y[,5], type=\"l\", lty=4)\nlegend(\"bottomright\", lty=c(1,1,2,3,4), col=c(\"red\",\"black\",\"black\",\"black\",\"black\"), \n       legend=c(\"log\", \"sigma=1\", \"sigma=0.5\", \"sigma=2\", \"sigma=0.05\"))\n\n\n\n\n\nFinally, we apply the pseudo-logarithmic transformation to the original normal deviates. We learn that a higher value for the parameter \\(\\sigma\\) makes the distribution ‘slimmer’ while a lower value makes it ‘fatter’, and it is even possible to induce bimodality with low values of sigma:\n\n\nShow the code\nz <- qnorm(p, mean=0, sd=1)\nhist(z)\n\n\n\n\n\nShow the code\nhist(pseudo_log(z, sigma=1))\n\n\n\n\n\nShow the code\nhist(pseudo_log(z, sigma=2))\n\n\n\n\n\nShow the code\nhist(pseudo_log(z, sigma=0.5))\n\n\n\n\n\nShow the code\nhist(pseudo_log(z, sigma=0.05))"
  },
  {
    "objectID": "Pseudo_log_explainer.html#finding-a-parameter-that-best-achieves-normality",
    "href": "Pseudo_log_explainer.html#finding-a-parameter-that-best-achieves-normality",
    "title": "Appendix C — Pseudo-log transformations",
    "section": "C.3 Finding a parameter that best achieves normality",
    "text": "C.3 Finding a parameter that best achieves normality\nAny test statistic for testing normality could be chosen to find a suitable value of \\(\\sigma\\) that induces normality into the transformed values. Here we use the (Pearson) correlation coefficient to compare the empirical distribution with normal deviates.\n\nC.3.1 Deviates from log normal distribution\nWe simulate from a shifted log normal distribution and evaluate the value of \\(\\sigma\\) that optimizes agreement with a normal distribution:\n\n\nShow the code\nx<-sort(exp(rnorm(1000)+3))\n\nhist(x)\n\n\n\n\n\nShow the code\nsigmas <- 2**seq(-10, 10, 1)\norigcor <- cor(qnorm((1:length(x)-0.5)/length(x)), x)\n\nncorx <- sapply(sigmas, function(X) cor(qnorm((1:length(x)-0.5)/length(x)), pseudo_log(x,X)))\n\ncat(\"Optimal sigma: \")\n\n\nOptimal sigma: \n\n\nShow the code\n(optsigma<-sigmas[ncorx==max(ncorx)])\n\n\n[1] 0.0009765625\n\n\nShow the code\nplot(log2(sigmas), ncorx, ylab=\"Correlation with normal deviates\", ylim=c(0,1))\npoints(log2(sigmas)[ncorx==max(ncorx)], max(ncorx), pch=19)\nabline(h=origcor)\nlegend(\"bottomright\", lty=c(1, NA,NA), pch=c(NA,1,19), legend=c(\"Original\", \"Pseudo-log\", \"Pseudo-log with optimal sigma\"))\nbox()\n\n\n\n\n\nShow the code\nhist(pseudo_log(x, optsigma))\n\n\n\n\n\n\n\nC.3.2 Deviates from exponential distribution\nAlso with an exponential distribution, the pseudo-logarithm may achieve a better agreement with a normal:\n\n\nShow the code\nx<-sort(exp(rnorm(1000)+3))\n\nhist(x)\n\n\n\n\n\nShow the code\nsigmas <- 2**seq(-10, 10, 1)\norigcor <- cor(qnorm((1:length(x)-0.5)/length(x)), x)\n\nncorx <- sapply(sigmas, function(X) cor(qnorm((1:length(x)-0.5)/length(x)), pseudo_log(x,X)))\n\ncat(\"Optimal sigma: \")\n\n\nOptimal sigma: \n\n\nShow the code\n(optsigma<-sigmas[ncorx==max(ncorx)])\n\n\n[1] 0.25\n\n\nShow the code\nplot(log2(sigmas), ncorx, ylab=\"Correlation with normal deviates\", ylim=c(0,1))\npoints(log2(sigmas)[ncorx==max(ncorx)], max(ncorx), pch=19)\nabline(h=origcor)\nlegend(\"bottomright\", lty=c(1, NA,NA), pch=c(NA,1,19), legend=c(\"Original\", \"Pseudo-log\", \"Pseudo-log with optimal sigma\"))\nbox()\n\n\n\n\n\nShow the code\nhist(pseudo_log(x, optsigma))\n\n\n\n\n\n\n\nC.3.3 Deviates from mixture distribution\nNow we mix a normal, lognormal and exponential distribution:\n\n\nShow the code\nx1 <- scale(rnorm(1000))\nx2 <- scale(rexp(1000))\nx3 <- scale(exp(rnorm(1000)))\n\np1 <- rbinom(1000, 1, 0.33)\np2 <- rbinom(1000, 1, 0.5)\n\nx<-p1*x1 + (1-p1)*(p2*x2+(1-p2)*x3)\nx <- x-min(x)\nx<-sort(x)\n\nhist(x)\n\n\n\n\n\nShow the code\nsigmas <- 2**seq(-10, 10, 1)\norigcor <- cor(qnorm((1:length(x)-0.5)/length(x)), x)\n\nncorx <- sapply(sigmas, function(X) cor(qnorm((1:length(x)-0.5)/length(x)), pseudo_log(x,X)))\n\ncat(\"Optimal sigma: \")\n\n\nOptimal sigma: \n\n\nShow the code\n(optsigma<-sigmas[ncorx==max(ncorx)])\n\n\n[1] 1\n\n\nShow the code\nplot(log2(sigmas), ncorx, ylab=\"Correlation with normal deviates\", ylim=c(0,1))\npoints(log2(sigmas)[ncorx==max(ncorx)], max(ncorx), pch=19)\nabline(h=origcor)\nlegend(\"bottomright\", lty=c(1, NA,NA), pch=c(NA,1,19), legend=c(\"Original\", \"Pseudo-log\", \"Pseudo-log with optimal sigma\"))\nbox()\n\n\n\n\n\nShow the code\nhist(pseudo_log(x, optsigma))\n\n\n\n\n\n\n\nC.3.4 Normal deviates\nWith simulated normal deviates, the pseudo-logarithm cannot improve the already perfect normality.\n\n\nShow the code\nx<-sort(rnorm(1000))\n\nhist(x)\n\n\n\n\n\nShow the code\nsigmas <- 2**seq(-10, 10, 1)\norigcor <- cor(qnorm((1:length(x)-0.5)/length(x)), x)\n\nncorx <- sapply(sigmas, function(X) cor(qnorm((1:length(x)-0.5)/length(x)), pseudo_log(x,X)))\n\ncat(\"Optimal sigma: \")\n\n\nOptimal sigma: \n\n\nShow the code\n(optsigma<-sigmas[ncorx==max(ncorx)])\n\n\n[1] 2\n\n\nShow the code\nplot(log2(sigmas), ncorx, ylab=\"Correlation with normal deviates\", ylim=c(0,1))\npoints(log2(sigmas)[ncorx==max(ncorx)], max(ncorx), pch=19)\nlegend(\"bottomright\", lty=c(1, NA,NA), pch=c(NA,1,19), legend=c(\"Original\", \"Pseudo-log\", \"Pseudo-log with optimal sigma\"))\nabline(h=origcor)\nbox()\n\n\n\n\n\nShow the code\nhist(pseudo_log(x, optsigma))\n\n\n\n\n\n\n\n\n\n\n\nJohnson, N. L. 1949. “Systems of Frequency Curves Generated by Methods of Translation.” Biometrika 36 (1/2): 149–76. http://www.jstor.org/stable/2332539."
  }
]